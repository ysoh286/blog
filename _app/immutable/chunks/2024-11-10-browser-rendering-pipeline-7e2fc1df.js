import{S as mn,i as vn,s as wn,e as a,t as n,a as h,c as i,b as s,d as r,f as t,g as d,k as g,h as c,j as e,n as _o}from"./index-794e8e40.js";function gn(fn){let k,ee,je,Me,W,Be,xe,R,Qe,Ie,b,te,Fe,Ke,oe,Ze,Ve,ne,Xe,De,q,Ye,Pe,U,$e,He,u,N,re,et,ae,ie,tt,ot,C,se,nt,rt,le,m,at,he,it,st,de,lt,ht,ce,dt,ct,pe,pt,ut,ft,v,ue,mt,vt,fe,wt,gt,me,yt,bt,ve,Et,_t,St,z,we,Tt,ge,ye,kt,Ct,L,be,Lt,Ot,Ee,A,Mt,S,f,xt,_e,It,Dt,Se,Pt,Ht,Te,Wt,Rt,ke,qt,Ut,Ce,Nt,zt,Le,At,Gt,Oe,Jt,We,G,jt,Re,J,Bt,qe,j,Qt,Ue,B,Ft,Ne,Q,Kt,ze,p,O,Zt,M,Vt,Xt,Yt,F,x,$t,eo,to,K,I,oo,no,ro,Z,D,ao,io,so,V,P,lo,ho,co,X,H,po,uo;return{c(){k=a("p"),ee=a("em"),je=n("Took 3 weeks off for a 2 week vacation - much overdue but glad to be back - travelling is physically tiring… or I’m in need of exercise."),Me=h(),W=a("p"),Be=n(`This week’s highlights was jumping into Lydia Hallie’s Web Development Quiz (which was hard, as expected) - but has so many things that I should know!
The main one was really getting into more detail about the browser rendering pipeline and how different CSS properties have an effect on which parts of the pipeline are used (for example, changing widths will require layout, paint and composite processes to rerun, while opacity only requires composite, and a change in background image assuming that width and height have not changed only requires a re-paint and composite process).`),xe=h(),R=a("h3"),Qe=n("What is the critical rendering path / browser rendering pipeline?"),Ie=h(),b=a("ul"),te=a("li"),Fe=n("“Sequence of steps browser goes through to convert HTML, CSS, JS into pixels onto the screen” - MDN"),Ke=h(),oe=a("li"),Ze=n("involves DOM, CSSOM, render tree and layout."),Ve=h(),ne=a("li"),Xe=n(`it is the minimum amount of resources necessary to perform an initial page render (not any subsequent updates)
This is sometimes referred to as the browser rendering pipeline.`),De=h(),q=a("p"),Ye=n("When the browser receives data, it will begin parsing the information. This means HTML is being parsed, which then gets translated into the DOM and CSSOM, which make up the render tree, which is then passed to the renderer to then layout, paint, and composite the page to the screen."),Pe=h(),U=a("p"),$e=n("There are 5 steps to the critical rendering path:"),He=h(),u=a("ol"),N=a("li"),re=a("strong"),et=n("HTML parsing to construct DOM tree"),ae=a("ul"),ie=a("li"),tt=n("HTML parsing which involves tokenization and tree construction. This creates the DOM tree."),ot=h(),C=a("li"),se=a("strong"),nt=n("Processing stylesheets / CSS to construct CSSOM tree"),rt=n(`
Next is processing CSS and the creating the CSSOM tree. This involves mapping styles with the nodes and identifying relationships between the CSS selectors.`),le=a("ul"),m=a("li"),at=n("any JavaScript scripts are downloaded, parsed, compiled and interpreted into abstract syntax trees. Most of this occurs on the main thread and is happening in the background. Note that any "),he=a("code"),it=n("script"),st=n(" tags would need to be parsed (unless they have "),de=a("code"),lt=n("defer"),ht=n(", "),ce=a("code"),dt=n("async"),ct=n(" or "),pe=a("code"),pt=n("module"),ut=n(" attributes applied) and thus blocks the HTML parser from proceeding as it could change the DOM."),ft=h(),v=a("li"),ue=a("strong"),mt=n("Style - Construction of render tree"),vt=n(`
After the DOM and CSSOM tree has been constructed, these are combined into a single tree known as the the render tree (which only has the visible elements available - this does not include anything with `),fe=a("code"),wt=n("display: hidden"),gt=n(" or visually hidden elements such as "),me=a("code"),yt=n("head"),bt=n(" and "),ve=a("code"),Et=n("script"),_t=n(` elements). This can also be referred to as the style step. The render tree starts from the root of the tree, traversing into each node. Rendering steps take place (which is what we refer to as the rendering pipeline).
The rendering steps are next.`),St=h(),z=a("li"),we=a("strong"),Tt=n("Layout"),ge=a("ul"),ye=a("li"),kt=n("the layout step is to compute the geometry of every node and how each node is relative to each other (every width, height, position, size of each element / node on the page / tree). Whenever reflow occurs, this means that layout has shifted and requires a recalculation. This could involve a subset of elements that end up being re-computed, or the entire document depending on how many elements need to be shifted. The box model is adhered to when laying out elements."),Ct=h(),L=a("li"),be=a("strong"),Lt=n("Paint / Composite"),Ot=n(`
Once everything is laid out, we move onto the next step which is painting. Every box /element is now translated into pixels on the screen which includes text, colours, images, buttons. Generally, this step should be optimised and the browser does this efficiently. If there are lots of elements to be painted, then the screen could be broken down into several layers and the composed together.`),Ee=a("ul"),A=a("li"),Mt=n("Compositing involves combining and merging layers together to produce the final image that appears on the screen. Some elements have been painted on separate layers for optimization and efficiency. The gains are from promoting elements to these layers which are then painted by the GPU rather than on the main thread, giving the performance boost."),S=a("ul"),f=a("li"),xt=n("some elements have this already built in such as "),_e=a("code"),It=n("video"),Dt=n(", "),Se=a("code"),Pt=n("canvas"),Ht=n(" tags and CSS properties such as "),Te=a("code"),Wt=n("opacity"),Rt=n(", "),ke=a("code"),qt=n("transform"),Ut=n(", "),Ce=a("code"),Nt=n("will-change"),zt=h(),Le=a("li"),At=n("Take caution if we want to explicitly do this - although they may improve performance, they should not be overused (as the browser usually does this for you already under the hood)"),Gt=h(),Oe=a("li"),Jt=n("This step is also necessary to make sure the document is drawing elements in the right order"),We=h(),G=a("h3"),jt=n("Why is this important?"),Re=h(),J=a("p"),Bt=n("It’s important to understand this process as this can help us identify where performance issues lie, and how we could solve them to provide the best user experience possible. We want to make sure our pages are responsive. It is paramount that the applications we build can keep up with our users and their needs. Sometimes just changing a CSS property could make improve performance significantly (or what can be seen as a ‘jank user experience’). Knowing this allows us to figure out if there are ways to ‘skip’ certain processes as they are not hierarchical - we can sometimes update a style without needing layout or having to re-compute positions, while there may not need to be a reason to paint and only do compositing if the node hasn’t changed in pixels."),qe=h(),j=a("p"),Qt=n("Recall that JavaScript is single threaded, and that style, layout and some paint operations run on the same thread. Other steps will run on their own thread (such as other painting operations and compositing)."),Ue=h(),B=a("p"),Ft=n("Reflows (which are the equivalent of redoing the layout step) can become computationally expensive as they use CPU resources, which involves needing to re-calculate, re-paint and combine to update the elements on the screen. Because this runs on the main thread, performance and the responsiveness of the page can become affected."),Ne=h(),Q=a("h3"),Kt=n("References"),ze=h(),p=a("ul"),O=a("li"),Zt=n("Lydia Hallie’s "),M=a("a"),Vt=n("Advanced Web Development Quiz"),Xt=n(" on FrontEnd Masters"),Yt=h(),F=a("li"),x=a("a"),$t=n("Rendering performance"),eo=n(" - web.dev"),to=h(),K=a("li"),I=a("a"),oo=n("Understanding the critical path"),no=n(" - web.dev"),ro=h(),Z=a("li"),D=a("a"),ao=n("Web performance - Populating the page: how browsers work"),io=n(" - MDN"),so=h(),V=a("li"),P=a("a"),lo=n("The rendering critical path"),ho=n(" - Chromium"),co=h(),X=a("li"),H=a("a"),po=n("An Introduction to the Browser Rendering Pipeline"),uo=n(" - Joe Liccini"),this.h()},l(o){k=i(o,"P",{});var l=s(k);ee=i(l,"EM",{});var So=s(ee);je=r(So,"Took 3 weeks off for a 2 week vacation - much overdue but glad to be back - travelling is physically tiring… or I’m in need of exercise."),So.forEach(t),l.forEach(t),Me=d(o),W=i(o,"P",{});var To=s(W);Be=r(To,`This week’s highlights was jumping into Lydia Hallie’s Web Development Quiz (which was hard, as expected) - but has so many things that I should know!
The main one was really getting into more detail about the browser rendering pipeline and how different CSS properties have an effect on which parts of the pipeline are used (for example, changing widths will require layout, paint and composite processes to rerun, while opacity only requires composite, and a change in background image assuming that width and height have not changed only requires a re-paint and composite process).`),To.forEach(t),xe=d(o),R=i(o,"H3",{});var ko=s(R);Qe=r(ko,"What is the critical rendering path / browser rendering pipeline?"),ko.forEach(t),Ie=d(o),b=i(o,"UL",{});var Y=s(b);te=i(Y,"LI",{});var Co=s(te);Fe=r(Co,"“Sequence of steps browser goes through to convert HTML, CSS, JS into pixels onto the screen” - MDN"),Co.forEach(t),Ke=d(Y),oe=i(Y,"LI",{});var Lo=s(oe);Ze=r(Lo,"involves DOM, CSSOM, render tree and layout."),Lo.forEach(t),Ve=d(Y),ne=i(Y,"LI",{});var Oo=s(ne);Xe=r(Oo,`it is the minimum amount of resources necessary to perform an initial page render (not any subsequent updates)
This is sometimes referred to as the browser rendering pipeline.`),Oo.forEach(t),Y.forEach(t),De=d(o),q=i(o,"P",{});var Mo=s(q);Ye=r(Mo,"When the browser receives data, it will begin parsing the information. This means HTML is being parsed, which then gets translated into the DOM and CSSOM, which make up the render tree, which is then passed to the renderer to then layout, paint, and composite the page to the screen."),Mo.forEach(t),Pe=d(o),U=i(o,"P",{});var xo=s(U);$e=r(xo,"There are 5 steps to the critical rendering path:"),xo.forEach(t),He=d(o),u=i(o,"OL",{});var E=s(u);N=i(E,"LI",{});var fo=s(N);re=i(fo,"STRONG",{});var Io=s(re);et=r(Io,"HTML parsing to construct DOM tree"),Io.forEach(t),ae=i(fo,"UL",{});var Do=s(ae);ie=i(Do,"LI",{});var Po=s(ie);tt=r(Po,"HTML parsing which involves tokenization and tree construction. This creates the DOM tree."),Po.forEach(t),Do.forEach(t),fo.forEach(t),ot=d(E),C=i(E,"LI",{});var Ae=s(C);se=i(Ae,"STRONG",{});var Ho=s(se);nt=r(Ho,"Processing stylesheets / CSS to construct CSSOM tree"),Ho.forEach(t),rt=r(Ae,`
Next is processing CSS and the creating the CSSOM tree. This involves mapping styles with the nodes and identifying relationships between the CSS selectors.`),le=i(Ae,"UL",{});var Wo=s(le);m=i(Wo,"LI",{});var _=s(m);at=r(_,"any JavaScript scripts are downloaded, parsed, compiled and interpreted into abstract syntax trees. Most of this occurs on the main thread and is happening in the background. Note that any "),he=i(_,"CODE",{});var Ro=s(he);it=r(Ro,"script"),Ro.forEach(t),st=r(_," tags would need to be parsed (unless they have "),de=i(_,"CODE",{});var qo=s(de);lt=r(qo,"defer"),qo.forEach(t),ht=r(_,", "),ce=i(_,"CODE",{});var Uo=s(ce);dt=r(Uo,"async"),Uo.forEach(t),ct=r(_," or "),pe=i(_,"CODE",{});var No=s(pe);pt=r(No,"module"),No.forEach(t),ut=r(_," attributes applied) and thus blocks the HTML parser from proceeding as it could change the DOM."),_.forEach(t),Wo.forEach(t),Ae.forEach(t),ft=d(E),v=i(E,"LI",{});var T=s(v);ue=i(T,"STRONG",{});var zo=s(ue);mt=r(zo,"Style - Construction of render tree"),zo.forEach(t),vt=r(T,`
After the DOM and CSSOM tree has been constructed, these are combined into a single tree known as the the render tree (which only has the visible elements available - this does not include anything with `),fe=i(T,"CODE",{});var Ao=s(fe);wt=r(Ao,"display: hidden"),Ao.forEach(t),gt=r(T," or visually hidden elements such as "),me=i(T,"CODE",{});var Go=s(me);yt=r(Go,"head"),Go.forEach(t),bt=r(T," and "),ve=i(T,"CODE",{});var Jo=s(ve);Et=r(Jo,"script"),Jo.forEach(t),_t=r(T,` elements). This can also be referred to as the style step. The render tree starts from the root of the tree, traversing into each node. Rendering steps take place (which is what we refer to as the rendering pipeline).
The rendering steps are next.`),T.forEach(t),St=d(E),z=i(E,"LI",{});var mo=s(z);we=i(mo,"STRONG",{});var jo=s(we);Tt=r(jo,"Layout"),jo.forEach(t),ge=i(mo,"UL",{});var Bo=s(ge);ye=i(Bo,"LI",{});var Qo=s(ye);kt=r(Qo,"the layout step is to compute the geometry of every node and how each node is relative to each other (every width, height, position, size of each element / node on the page / tree). Whenever reflow occurs, this means that layout has shifted and requires a recalculation. This could involve a subset of elements that end up being re-computed, or the entire document depending on how many elements need to be shifted. The box model is adhered to when laying out elements."),Qo.forEach(t),Bo.forEach(t),mo.forEach(t),Ct=d(E),L=i(E,"LI",{});var Ge=s(L);be=i(Ge,"STRONG",{});var Fo=s(be);Lt=r(Fo,"Paint / Composite"),Fo.forEach(t),Ot=r(Ge,`
Once everything is laid out, we move onto the next step which is painting. Every box /element is now translated into pixels on the screen which includes text, colours, images, buttons. Generally, this step should be optimised and the browser does this efficiently. If there are lots of elements to be painted, then the screen could be broken down into several layers and the composed together.`),Ee=i(Ge,"UL",{});var Ko=s(Ee);A=i(Ko,"LI",{});var vo=s(A);Mt=r(vo,"Compositing involves combining and merging layers together to produce the final image that appears on the screen. Some elements have been painted on separate layers for optimization and efficiency. The gains are from promoting elements to these layers which are then painted by the GPU rather than on the main thread, giving the performance boost."),S=i(vo,"UL",{});var $=s(S);f=i($,"LI",{});var y=s(f);xt=r(y,"some elements have this already built in such as "),_e=i(y,"CODE",{});var Zo=s(_e);It=r(Zo,"video"),Zo.forEach(t),Dt=r(y,", "),Se=i(y,"CODE",{});var Vo=s(Se);Pt=r(Vo,"canvas"),Vo.forEach(t),Ht=r(y," tags and CSS properties such as "),Te=i(y,"CODE",{});var Xo=s(Te);Wt=r(Xo,"opacity"),Xo.forEach(t),Rt=r(y,", "),ke=i(y,"CODE",{});var Yo=s(ke);qt=r(Yo,"transform"),Yo.forEach(t),Ut=r(y,", "),Ce=i(y,"CODE",{});var $o=s(Ce);Nt=r($o,"will-change"),$o.forEach(t),y.forEach(t),zt=d($),Le=i($,"LI",{});var en=s(Le);At=r(en,"Take caution if we want to explicitly do this - although they may improve performance, they should not be overused (as the browser usually does this for you already under the hood)"),en.forEach(t),Gt=d($),Oe=i($,"LI",{});var tn=s(Oe);Jt=r(tn,"This step is also necessary to make sure the document is drawing elements in the right order"),tn.forEach(t),$.forEach(t),vo.forEach(t),Ko.forEach(t),Ge.forEach(t),E.forEach(t),We=d(o),G=i(o,"H3",{});var on=s(G);jt=r(on,"Why is this important?"),on.forEach(t),Re=d(o),J=i(o,"P",{});var nn=s(J);Bt=r(nn,"It’s important to understand this process as this can help us identify where performance issues lie, and how we could solve them to provide the best user experience possible. We want to make sure our pages are responsive. It is paramount that the applications we build can keep up with our users and their needs. Sometimes just changing a CSS property could make improve performance significantly (or what can be seen as a ‘jank user experience’). Knowing this allows us to figure out if there are ways to ‘skip’ certain processes as they are not hierarchical - we can sometimes update a style without needing layout or having to re-compute positions, while there may not need to be a reason to paint and only do compositing if the node hasn’t changed in pixels."),nn.forEach(t),qe=d(o),j=i(o,"P",{});var rn=s(j);Qt=r(rn,"Recall that JavaScript is single threaded, and that style, layout and some paint operations run on the same thread. Other steps will run on their own thread (such as other painting operations and compositing)."),rn.forEach(t),Ue=d(o),B=i(o,"P",{});var an=s(B);Ft=r(an,"Reflows (which are the equivalent of redoing the layout step) can become computationally expensive as they use CPU resources, which involves needing to re-calculate, re-paint and combine to update the elements on the screen. Because this runs on the main thread, performance and the responsiveness of the page can become affected."),an.forEach(t),Ne=d(o),Q=i(o,"H3",{});var sn=s(Q);Kt=r(sn,"References"),sn.forEach(t),ze=d(o),p=i(o,"UL",{});var w=s(p);O=i(w,"LI",{});var Je=s(O);Zt=r(Je,"Lydia Hallie’s "),M=i(Je,"A",{href:!0,rel:!0});var ln=s(M);Vt=r(ln,"Advanced Web Development Quiz"),ln.forEach(t),Xt=r(Je," on FrontEnd Masters"),Je.forEach(t),Yt=d(w),F=i(w,"LI",{});var wo=s(F);x=i(wo,"A",{href:!0,rel:!0});var hn=s(x);$t=r(hn,"Rendering performance"),hn.forEach(t),eo=r(wo," - web.dev"),wo.forEach(t),to=d(w),K=i(w,"LI",{});var go=s(K);I=i(go,"A",{href:!0,rel:!0});var dn=s(I);oo=r(dn,"Understanding the critical path"),dn.forEach(t),no=r(go," - web.dev"),go.forEach(t),ro=d(w),Z=i(w,"LI",{});var yo=s(Z);D=i(yo,"A",{href:!0,rel:!0});var cn=s(D);ao=r(cn,"Web performance - Populating the page: how browsers work"),cn.forEach(t),io=r(yo," - MDN"),yo.forEach(t),so=d(w),V=i(w,"LI",{});var bo=s(V);P=i(bo,"A",{href:!0,rel:!0});var pn=s(P);lo=r(pn,"The rendering critical path"),pn.forEach(t),ho=r(bo," - Chromium"),bo.forEach(t),co=d(w),X=i(w,"LI",{});var Eo=s(X);H=i(Eo,"A",{href:!0,rel:!0});var un=s(H);po=r(un,"An Introduction to the Browser Rendering Pipeline"),un.forEach(t),uo=r(Eo," - Joe Liccini"),Eo.forEach(t),w.forEach(t),this.h()},h(){g(M,"href","https://frontendmasters.com/courses/web-dev-quiz/"),g(M,"rel","nofollow"),g(x,"href","https://web.dev/articles/rendering-performance"),g(x,"rel","nofollow"),g(I,"href","https://web.dev/learn/performance/understanding-the-critical-path"),g(I,"rel","nofollow"),g(D,"href","https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work"),g(D,"rel","nofollow"),g(P,"href","https://www.chromium.org/developers/the-rendering-critical-path/"),g(P,"rel","nofollow"),g(H,"href","https://webperf.tips/tip/browser-rendering-pipeline/"),g(H,"rel","nofollow")},m(o,l){c(o,k,l),e(k,ee),e(ee,je),c(o,Me,l),c(o,W,l),e(W,Be),c(o,xe,l),c(o,R,l),e(R,Qe),c(o,Ie,l),c(o,b,l),e(b,te),e(te,Fe),e(b,Ke),e(b,oe),e(oe,Ze),e(b,Ve),e(b,ne),e(ne,Xe),c(o,De,l),c(o,q,l),e(q,Ye),c(o,Pe,l),c(o,U,l),e(U,$e),c(o,He,l),c(o,u,l),e(u,N),e(N,re),e(re,et),e(N,ae),e(ae,ie),e(ie,tt),e(u,ot),e(u,C),e(C,se),e(se,nt),e(C,rt),e(C,le),e(le,m),e(m,at),e(m,he),e(he,it),e(m,st),e(m,de),e(de,lt),e(m,ht),e(m,ce),e(ce,dt),e(m,ct),e(m,pe),e(pe,pt),e(m,ut),e(u,ft),e(u,v),e(v,ue),e(ue,mt),e(v,vt),e(v,fe),e(fe,wt),e(v,gt),e(v,me),e(me,yt),e(v,bt),e(v,ve),e(ve,Et),e(v,_t),e(u,St),e(u,z),e(z,we),e(we,Tt),e(z,ge),e(ge,ye),e(ye,kt),e(u,Ct),e(u,L),e(L,be),e(be,Lt),e(L,Ot),e(L,Ee),e(Ee,A),e(A,Mt),e(A,S),e(S,f),e(f,xt),e(f,_e),e(_e,It),e(f,Dt),e(f,Se),e(Se,Pt),e(f,Ht),e(f,Te),e(Te,Wt),e(f,Rt),e(f,ke),e(ke,qt),e(f,Ut),e(f,Ce),e(Ce,Nt),e(S,zt),e(S,Le),e(Le,At),e(S,Gt),e(S,Oe),e(Oe,Jt),c(o,We,l),c(o,G,l),e(G,jt),c(o,Re,l),c(o,J,l),e(J,Bt),c(o,qe,l),c(o,j,l),e(j,Qt),c(o,Ue,l),c(o,B,l),e(B,Ft),c(o,Ne,l),c(o,Q,l),e(Q,Kt),c(o,ze,l),c(o,p,l),e(p,O),e(O,Zt),e(O,M),e(M,Vt),e(O,Xt),e(p,Yt),e(p,F),e(F,x),e(x,$t),e(F,eo),e(p,to),e(p,K),e(K,I),e(I,oo),e(K,no),e(p,ro),e(p,Z),e(Z,D),e(D,ao),e(Z,io),e(p,so),e(p,V),e(V,P),e(P,lo),e(V,ho),e(p,co),e(p,X),e(X,H),e(H,po),e(X,uo)},p:_o,i:_o,o:_o,d(o){o&&t(k),o&&t(Me),o&&t(W),o&&t(xe),o&&t(R),o&&t(Ie),o&&t(b),o&&t(De),o&&t(q),o&&t(Pe),o&&t(U),o&&t(He),o&&t(u),o&&t(We),o&&t(G),o&&t(Re),o&&t(J),o&&t(qe),o&&t(j),o&&t(Ue),o&&t(B),o&&t(Ne),o&&t(Q),o&&t(ze),o&&t(p)}}}const bn={title:"Weekly learning review - browser rendering pipeline (critical rendering path)",date:"2024-11-10T20:30:00.000Z"};class En extends mn{constructor(k){super(),vn(this,k,null,gn,wn,{})}}export{En as default,bn as metadata};
